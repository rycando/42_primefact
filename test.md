# <42_primefact> @RYUKIM

## 1. 함수 별 역할

  ### 1. main
    1. 에러처리 (상세 예외 case는 문서의 2번 참조)
    2. ft_atoi 함수에 문자열로 입력된 인자 넘겨 정수형으로 변환
    3. 주요 동작을 처리하는 recursive 함수 main호출
    4. recursive 함수에서 마지막 소인수까지 출력되고 나면 개행 출력
    5. 프로그램 정상 종료
    
  ### 2. ft_atoi - 문자열의 수를 정수형으로 변환
    1. 입력매개변수로 넘어온 문자열이 끝날 때까지 ans 변수에 10진수로 대입
    2. 몇자리 수인지 count 변수로 확인하여 unsigned int 범위인 10자리를 넘어가면 에러처리
    3. unsigned int 범위인 0~4294967295 밖이면 에러처리
    4. 에러 아닐 경우 ans 반환

  ### 3. recursive - 주요 동작 처리하는 재귀함수
    1. 인자로 받은 입력매개변수가 소수인지 is_it_prime 함수를 통해 확인
    2. 소수가 아닐 경우 -> is_it_prime 에서 반환된 가장 작은 소인수를 전역변수인 save에 저장되어 있지 않으면(출력된 적이 없으면) 공백 하나 출력 후 출력
                     -> 반환된 소인수로 기존 수 나눈 후 recursive
                     
    3. 소수일 경우 -> 전역변수인 save에 저장되어 있지 않으면(출력된 적이 없으면) 공백 하나 출력 후 그 수 출력
                 -> 재귀 탈출
  ### 4. is_it_prime - 소수인지 확인, 소수가 아니면 가장 작은 소인수 반환
    1. 2 ~ 제곱근 전까지의 수로 나눠보며 나눠떨어지는지 확인
    2. 나눠 떨어지는 수가 있으면 -> 그 수를 반환
    3. 없으면 (= 소수이거나 0또는 1이면) -> 0 반환
    
  ### 5. check_no_num - 문자열 수에 숫자 아닌 문자 있는지 확인
    1. 문자열을 돌며 0~9이 아닐 경우 1 반환
    2. 끝까지 숫자이면 0 반환
    
  ### 6. print_error - 에러 출력 및 비정상 종료
    1. error 출력
    2. exit 함수 이용해 비정상 종료

## 2. 예외 case

    1. 인자가 2개가 아닌 경우
    2. 2번째 인자가 NULL 포인터인 경우
    3. 2번째 인자의 첫번째 문자가 널문자인 경우
    4. 2번째 인자의 문자열에 수가 아닌 문자가 있는 경우
    5. 2번째 인자를 정수형으로 변환했을 때 unsigned int의 범위를 넘는 경우
    
## 3. 시행착오 과정

  ### 1. sqrt 함수 때문에 컴파일 안 되는 문제
    math.h 헤더파일 사용할 때에는 -lm 붙여줘야 함
    
  ### 2. 소수를 입력했을 때 출력이 안 되는 문제
    recursive 함수 내에 is_it_prime 에서 0이 반환됐을 때 출력 가능하도록 else문 추가
  
  ### 3. 공백 잘못 처리되는 문제
    출력이 가능한 경우에만, 첫 출력이 아닌 경우에만 공백이 출력되도록 처리
   
## 4. 참조 문서
  
  ### 1. https://marobiana.tistory.com/91
  ### 2. http://myblog.opendocs.co.kr/archives/1230
  ### 3. https://m.blog.naver.com/PostView.nhn?blogId=liccorob&logNo=10151840291&proxyReferer=https%3A%2F%2Fwww.google.com%2F
  ### 4. https://kldp.org/node/69051